<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width" /> 

  <title>이메일 회원가입</title>
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- CSS -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
  <link rel="stylesheet" href="./css/common.css" />
  <link rel="stylesheet" href="./css/custom.css" />
  <link rel="stylesheet" href="./css/design.css" />
  <!-- JS -->
  <script src="./js/common.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <!------------ 이메일 회원가입 ------------>
    <div id="login" class="sign_up">
        <!--상단바-->
        <div class="login_header pt_20 pb_20">
            <a href="./sign_up_A.html" class="back"><img src="./img/back.svg"><span class="soundonly">뒤로가기</span></a>
            <h2 class="fs_14">이메일 회원가입</h2>
        </div>

        <!------------ 이메일회원가입 1/3 ------------>
        <section class="d-none">
            <form id="register" class="form_area">
                <label for="email">
                    <p class="fs_12 mb_18">이메일 입력</p>
                    <div class="input_box pb_10 mb_7">
                        <input id="emailInput" class="fs_14 w-90" type="email" placeholder="이메일 입력" >
                        <div class="remove_icon"><span class="soundonly">지우기</span><img src="./img/cancel-btn.svg"></div>
                        <div class="check_icon"><span class="soundonly">입력체크</span><img src="./img/check.svg" class="check"><img src="./img/check_on.svg" class="check_on"></div>
                    </div>
                    <div class="email_check warnning-txt fs_12 fw_500">이메일 형식이 올바르지 않습니다.</div>
                </label>
                <label for="password">
                    <p class="hidden-txt mb_18">비밀번호 입력</p>
                    <div class="input_box pb_10 mb_7">
                        <input id="passwordInput" class="fs_14 w-90" type="password" maxlength="16">
                        <div class="remove_icon"><span class="soundonly">지우기</span><img src="./img/cancel-btn.svg"></div>
                        <div class="check_icon"><span class="soundonly">입력체크</span><img src="./img/check.svg" class="check"><img src="./img/check_on.svg" class="check_on"></div>
                    </div>
                    <div class="password_check warnning-txt fs_12 fw_500">영문, 숫자, 특수문자 2가지 이상 조합 (8~16자)</div>
                </label>
                <label for="password2">
                    <p class="hidden-txt mb_18">비밀번호 재입력</p>
                    <div class="input_box pb_10 mb_7">
                        <input id="passwordInput2" class="fs_14 w-90" type="password" maxlength="16">
                        <div class="remove_icon"><span class="soundonly">지우기</span><img src="./img/cancel-btn.svg"></div>
                        <div class="check_icon"><span class="soundonly">입력체크</span><img src="./img/check.svg" class="check"><img src="./img/check_on.svg" class="check_on"></div>
                    </div>
                    <div class="password_check warnning-txt fs_12 fw_500">비밀번호가 일치하지 않습니다</div>
                </label>
            </form>

            <p class="fs_11 fc_grbd privacy mt_40">계정 생성 시 개근상의 <a class="fs_11 fc_grbd link" href="">개인정보 처리방침 및 이용약관</a><br/>에 동의하게 됩니다.</p>

            <!--submit-->
            <button id="submitBtn" type='submit'>다음</button>

            <script>

                /* 초기값 : 경고문 + 체크 표시안함 + submit버튼 비활성화*/
                $('.warnning-txt').hide();
                $('.check_on').hide();
    
                /* 이메일 유효성 검사 */
                function checkEmail(email) {
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    return emailRegex.test(email);
                }
    
                /* 비밀번호 유효성 검사 (8자이상) */
                function checkPassword(password) {
                const num = password.search(/[0-9]/g);
                const eng = password.search(/[a-z]/ig);
                const spe = password.search(/[`~!@@#$%^&*|₩₩₩'₩";:₩/?]/gi);
                return password.length >= 8 && num >= 0 && eng >= 0 && spe >= 0;
                }
    
                /* 비밀번호 재입력 유효성 검사 (비밀번호와 일치한지) */
                function checkPasswordMatch(password, Password2) {
                    return password === Password2;
                }
                
                
                /* hidden_txt 표시 */
                function toggleHiddentxt($inputBox, showHidden) {
                    if (showHidden) {
                        $inputBox.siblings('.hidden-txt').addClass('on');
                    } else {
                        $inputBox.siblings('.hidden-txt').removeClass('on');
                    }
                }

                /* 경고문 표시 */
                function toggleWarning($inputBox, showWarning) {
                    if (showWarning) {
                        $inputBox.siblings('.warnning-txt').show();
                    } else {
                        $inputBox.siblings('.warnning-txt').hide();
                    }
                }
                
                /* input 보더값변경 */
                function toggleChangeborder($inputBox, changeBorder) {
                    if (changeBorder) {
                        $inputBox.closest('.input_box').css("border-bottom","1px solid #B71C1C")
                    } else {
                        $inputBox.closest('.input_box').css("border-bottom","1px solid #212121");
                    }
                }
    
                /* 입력완료 표시 */
                function toggleCheckIcon($inputBox, valid) {
                    if (valid) {
                        $inputBox.find('.check').hide();
                        $inputBox.find('.check_on').show();
                    } else {
                        $inputBox.find('.check').show();
                        $inputBox.find('.check_on').hide();
                    }
                }

                /* 입력정상했을때 .hidden-txt 숨기기 */
                function hideHiddenTxt($inputBox, valid) {
                    if (valid) {
                        $inputBox.siblings('.hidden-txt').hide();
                    }
                }
    
                /* 입력값 없을때 */
                function removeInput($inputBox) {
                    $inputBox.find('input').val(''); //입력값 있는지 확인
                    $inputBox.siblings('.warnning-txt').hide(); //경고문삭제
                    $inputBox.siblings('.hidden-txt').removeClass('on'); // hidden-txt삭제
                    $inputBox.closest('.input_box').css("border-bottom","1px solid #212121"); // input_box border값 변경
                    $inputBox.find('.check_on').hide();
                    $inputBox.find('.check').show()
                }
    
                /* input 실행 - 이메일 */
                $('#emailInput').on('input', function() {
                    const email = $(this).val();
                    const $inputBox = $(this).closest('.input_box');
                    const valid = checkEmail(email);
                    toggleWarning($inputBox, !valid);
                    toggleCheckIcon($inputBox, valid);
                    toggleChangeborder($inputBox, !valid);
                    hideHiddenTxt($inputBox, valid);
                });
    
                /* input 실행 - 비밀번호 */
                $('#passwordInput').on('input', function() {
                    const password = $(this).val();
                    const $inputBox = $(this).closest('.input_box');
                    const valid = checkPassword(password);
                    toggleWarning($inputBox, !valid);
                    toggleCheckIcon($inputBox, valid);
                    toggleHiddentxt($inputBox, !valid);
                    toggleChangeborder($inputBox, !valid);
                    hideHiddenTxt($inputBox, valid);
                });
    
                /* input 실행 - 비밀번호 재입력 */
                $('#passwordInput2').on('input', function() {
                    const password = $('#passwordInput').val();
                    const Password2 = $(this).val();
                    const $inputBox = $(this).closest('.input_box');
                    const valid = checkPasswordMatch(password, Password2);
                    toggleWarning($inputBox, !valid);
                    toggleCheckIcon($inputBox, valid);
                    toggleHiddentxt($inputBox, !valid);
                    toggleChangeborder($inputBox, !valid);
                    hideHiddenTxt($inputBox, valid);                 
                });
    
                /* remove_icon클릭시 : 입력값 삭제 + 경고문 삭제 + border 변경*/
                $('.remove_icon').on('click', function() {
                    const $inputBox = $(this).closest('.input_box');
                    removeInput($inputBox);
                });

                </script>
        </section>
        <!------------ 이메일회원가입 1/3 끝 ------------>
        <!------------ 이메일회원가입 2/3 ------------>
        <section >
            <form id="register2" class="form_area">
                <label for="name">
                    <p class="fs_12 mb_18">이름 입력</p>
                    <div class="input_box pb_10 mb_7">
                        <input id="nameInput" class="fs_14 w-90" type="text" placeholder="이름 입력" >
                        <div class="remove_icon"><span class="soundonly">지우기</span><img src="./img/cancel-btn.svg"></div>
                        <div class="check_icon"><span class="soundonly">입력체크</span><img src="./img/check.svg" class="check"><img src="./img/check_on.svg" class="check_on"></div>
                        <div class="warnning-txt fs_12 fw_500">이름을 올바르게 입력해주세요</div>
                    </div>
                </label>
                <label for="phone">
                    <div class="input_box pb_10 mb_7 w-20">
                        <select name="phoneInput1" id="phoneInput1">
                            <option value="+82">+ 82</option>
                        </select>
                    </div>
                    <div class="input_box pb_10 mb_7 w-55">
                        <input id="phoneInput2" class="fs_14 w-90" type="tel" placeholder="휴대폰 번호 입력" maxlength="11">
                        <div class="remove_icon"><span class="soundonly">지우기</span><img src="./img/cancel-btn.svg"></div>
                    </div>
                    <button class="fs_14 fc_grbd pb_10 mb_7 w-25">인증요청</button>
                </label>
                <label for="secure">
                    <div class="input_box pb_10 mb_7">
                        <input id="secureInput" class="fs_14 w-90" type="number" placeholder="인증번호 입력" maxlength="16">
                        <div class="remove_icon"><span class="soundonly">지우기</span><img src="./img/cancel-btn.svg"></div>
                        <div class="check_icon"><span class="soundonly">입력체크</span><img src="./img/check.svg" class="check"><img src="./img/check_on.svg" class="check_on"></div>
                        <div class="warnning-txt fs_12 fw_500">인증번호가 일치하지 않습니다</div>
                    </div>
                </label>
            </form>
            <p class="fs_11 fc_grbd privacy mt_40">인증번호가 오지 않는다면, 통신사 스팸 차단 서비스 혹은<br/>휴대폰 번호 차단 여부를 확인해 주세요.(카카오톡@개근상)</p>
            <!--submit-->
            <button id="submitBtn" type='submit' onclick="location.href='register_email3.html'">다음</button>
        </section>

        <script>
        /* remove_icon클릭시 : 입력값 삭제 + 경고문 삭제 + border 변경*/
        $('.remove_icon').on('click', function() {
            const $inputBox = $(this).closest('.input_box');
            removeInput($inputBox);
        });    
        </script>

        <!------------ 이메일회원가입 2/3 끝 ------------>

        <!------------ 이메일회원가입 3/3 ------------>
        <section class="d-none">
            <div class="complete_view">
                <img src="./img/register_complete.png" alt="완료되었습니다" class="mb_35" style="width:100px"  data-aos="fade-up" data-aos-duration="1000">
                <p class="fs_14 fw_500" data-aos="fade-up" data-aos-duration="2000">BTS x LOVE = SUCCESS</p> <!--User name-->
                <P class="fs_14 fw_500 fc_21" data-aos="fade-up" data-aos-duration="2000">당신의 의미있는 성공을 응원합니다.</P>
            </div>
            <button id="submitBtn" type='submit'>메인으로</button>
        </section>
        <!------------ 이메일회원가입 3/3 끝 ------------>
    </div>
  
</body>
</html>