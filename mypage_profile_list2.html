<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>마이페이지- 계정설정</title>
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- CSS -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
  <link rel="stylesheet" href="./css/common.css" />
  <link rel="stylesheet" href="./css/custom.css" />
  <link rel="stylesheet" href="./css/design.css" />
  <!-- JS -->
  <script src="./js/common.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <div id="Mypageprofile_list2">
    <!--================== header ==================-->
    <!------------  공통 :: header------------>
    <section id="Mypageprofile_header">
    <article class="mypage_header">
        <a href="./mypage_profile_list1.html" class="close_icon"><img src="./img/back.svg"><span class="soundonly">뒤로가기</span></a>
        <p class="fs_15 fw_500">계정설정</p>
        <p>&nbsp;</p>
    </article>
    </section>
    <!------------ 공통 :: header 끝------------>
    <!--================== contents ==================-->
    <!------------ 프로필 메뉴 ------------>
    <article class="profile_menu">
        <ul>
            <li><a href="./mypage_profile_edit5.html">비밀번호 수정 <img src="./img/next2.svg" alt="next"></a></li>
            <li><a>로그아웃 <img src="./img/next2.svg" alt="next"></a></li>
            <li><a class="delete_membership_btn">회원탈퇴<img src="./img/next2.svg" alt="next"></a></li>
            <li><a href="./mypage_profile_edit6.html">SNS 계정 관리<img src="./img/next2.svg" alt="next"></a></li>
        </ul>
    </article>
    <!------------ 프로필 메뉴 끝 ------------>
    </section>
    <article class="modal_bottom">
        <div class="delete_membership">
            <div class="bar"></div>
            <p class="fs_14 mb_15">회원탈퇴</p>
            <p class="fs_12 mb_20">그 동안의 이야기가 사라집니다.<br/>다시한번 생각해보세요.</p>
            <form class="form_area">
                <label for="delete_membership">
                    <p class="hidden-txt mb_18">탈퇴라고 입력해주세요</p>
                    <div class="input_box pb_10">
                        <input id="delete_membership_check" class="fs_14 w-90" type="text">
                        <div class="check_icon"><span class="soundonly">입력체크</span><img src="./img/check.svg" class="check"><img src="./img/check_on.svg" class="check_on"></div>
                    </div>
                </label>
            </form>
            <script>

            /* 초기값 : 체크 표시안함 + submit버튼 비활성화 */
            $('.check_on').hide();
            $('button').prop('disabled', true);

            /* 탈퇴입력 검사 */
            function checkDeletemembership(value) {
                return value === "탈퇴";
            }

            /* hidden_txt 표시 */
            function toggleHiddentxt($inputBox, showHidden) {
                if (showHidden) {
                    $inputBox.siblings('.hidden-txt').addClass('on');
                } else {
                    $inputBox.siblings('.hidden-txt').removeClass('on');
                }
            }

            /* input 보더값변경 */
            function toggleChangeborder($inputBox, changeBorder) {
                if (changeBorder) {
                    $inputBox.css("border-bottom", "1px solid #B71C1C");
                } else {
                    $inputBox.css("border-bottom", "1px solid #212121");
                }
            }

            /* 입력완료 표시 */
            function toggleCheckIcon($inputBox, valid) {
                if (valid) {
                    $inputBox.find('.check').hide();
                    $inputBox.find('.check_on').show();
                } else {
                    $inputBox.find('.check').show();
                    $inputBox.find('.check_on').hide();
                }
            }

            /* 입력정상했을때 .hidden-txt 숨기기 */
            function hideHiddenTxt($inputBox, valid) {
                if (valid) {
                    $inputBox.siblings('.hidden-txt').hide();
                }
            }

            /* 입력값 없을때 */
            function removeInput($inputBox) {
                $inputBox.find('input').val('');
                $inputBox.siblings('.warnning-txt').hide();
                $inputBox.siblings('.hidden-txt').removeClass('on');
                $inputBox.css("border-bottom", "1px solid #212121");
                $inputBox.find('.check_on').hide();
                $inputBox.find('.check').show();
            }

            /* input 실행 - 탈퇴입력 */
            $('#delete_membership_check').on('input', function() {
                const delete_membership_check = $(this).val();
                const $inputBox = $(this).closest('.input_box');
                const valid = checkDeletemembership(delete_membership_check);
                toggleHiddentxt($inputBox, !valid);
                toggleCheckIcon($inputBox, valid);
                toggleChangeborder($inputBox, !valid);
                hideHiddenTxt($inputBox, valid);
                $('button').prop('disabled', !valid);
            });
            
            /* 회원탈퇴 모달 띄우기 */
            $('.delete_membership_btn').on('click', function() {
                $('.modal_bottom').addClass('on');
            });

            /* 탈퇴 내부 화면 이외 클릭시 모달 삭제  */
            $(document).on('click', function(event) {
                if (!$(event.target).closest('.delete_membership, .delete_membership_btn').length) {
                    $('.modal_bottom').removeClass('on');
                }
            });

            </script>
        </div>
        <input class="submitBtn" type='submit' value="탈퇴하기"  disabled>
    </article>
  </div>
</body>
</html>